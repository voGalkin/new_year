<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
			rel="stylesheet"
		/>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Tangerine:wght@400;700&display=swap"
			rel="stylesheet"
		/>
		<link
			rel="icon"
			href="/frontend/images/favicon.png.png"
			type="image/x-icon"
		/>
		<title>Открытка</title>
		<style>
			@font-face {
				font-family: 'Majestic';
				src: url(/frontend/fonts/majestic_x.ttf);
			}
			body {
				background-color: rgb(216, 81, 67);
				color: white;
				font-family: Arial, sans-serif;
				text-align: center;
				margin: 0;
				padding: 0;
			}
			body::-webkit-scrollbar {
				width: 5px; /* Ширина всего элемента навигации */
			}

			body::-webkit-scrollbar-track {
				background: #fff; /* Цвет дорожки */
			}

			body::-webkit-scrollbar-thumb {
				background-color: #ba1321; /* Цвет бегунка */
				border-radius: 20px; /* Округление бегунка */
			}
			.content {
				padding-top: 80px;
			}
			.title {
				font-family: 'Tangerine';
				font-weight: 700;
				font-size: 4em;
				margin: 30px 0;
				line-height: 50px;
			}
			.message,
			.username {
				margin-top: 10px;
				font-size: 1.5em;
				font-family: 'Montserrat';
				font-weight: 400;
				white-space: pre-wrap;
				word-wrap: break-word;
				width: 600px;
				text-align: center;
				margin: 30px auto;
				line-height: 35px;
			}
			.username {
				font-weight: 500;
			}
			.footer {
				font-family: 'Montserrat';
				margin-top: 30px;
				margin-bottom: 50px;
				font-size: 0.9em;
			}
			.tree,
			.bells {
				width: 100px;
			}
			#garland {
				position: absolute;
				top: 0;
				left: 0;
				background-image: url('/frontend/images/garland.png');
				height: 36px;
				width: 100%;
				overflow: hidden;
				z-index: 99;
			}

			#nums_1 {
				padding: 100px;
			}

			.garland_1 {
				background-position: 0 0;
			}

			.garland_2 {
				background-position: 0 -36px;
			}

			.garland_3 {
				background-position: 0 -72px;
			}

			.garland_4 {
				background-position: 0 -108px;
			}
			@media (max-width: 600px) {
				.title {
					font-size: 3em;
				}
				.message,
				.username {
					white-space: break-all;
					width: 70%;
					font-size: 1em;
					line-height: 20px;
				}
			}
		</style>
	</head>
	<body>
		<div id="garland" class="garland_4">
			<div id="nums_1">1</div>
		</div>

		<div class="content">
			<img
				class="tree"
				src="/frontend/images/christmas-tree_9075901.png"
				alt="tree"
			/>
			<h1 class="title">
				Merry Christmas <br />and<br />
				Happy New Year
			</h1>
			<p class="username">{{name}}</p>
			<p class="message">{{ message }}</p>
			<div id="greeting"></div>
			<img
				class="bells"
				src="/frontend/images/christmas-bell.png"
				alt="bells"
			/>
			<div class="footer">Отправлено с любовью ❤️</div>
		</div>
		<script>
			function garland() {
				nums = document.getElementById('nums_1').innerHTML
				if (nums == 1) {
					document.getElementById('garland').className = 'garland_1'
					document.getElementById('nums_1').innerHTML = '2'
				}
				if (nums == 2) {
					document.getElementById('garland').className = 'garland_2'
					document.getElementById('nums_1').innerHTML = '3'
				}
				if (nums == 3) {
					document.getElementById('garland').className = 'garland_3'
					document.getElementById('nums_1').innerHTML = '4'
				}
				if (nums == 4) {
					document.getElementById('garland').className = 'garland_4'
					document.getElementById('nums_1').innerHTML = '1'
				}
			}

			setInterval(function () {
				garland()
			}, 600)
			document.addEventListener('DOMContentLoaded', () => {
				const greetingElement = document.querySelector('.username')
				const userName = '{{name}}' // Замените на имя пользователя, если оно известно
				greetingElement.textContent = getGreeting(userName)
			})

			function getGreeting(userName) {
				const now = new Date()
				const hours = now.getHours()
				let greeting = ''

				if (hours >= 5 && hours < 12) {
					greeting = 'Доброе утро'
				} else if (hours >= 12 && hours < 18) {
					greeting = 'Добрый день'
				} else if (hours >= 18 && hours < 23) {
					greeting = 'Добрый вечер'
				} else {
					greeting = 'Доброй ночи'
				}

				return userName ? `${greeting}, ${userName}!` : greeting
			}
		</script>
	</body>
</html>
